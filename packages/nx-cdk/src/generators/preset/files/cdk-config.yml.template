cdk-pipe:
  commands:
    cdk:
      bootstrap: yarn nx run application:cdk bootstrap
      deploy: yarn nx run application:cdk deploy
      synth: yarn nx run application:cdk synth
      diff: yarn nx run application:cdk diff
    npm:
      checks:
        lint: yarn lint
        format: yarn lint # Formatting is controlled by the lint step, we turn this off in the pipeline anyway
      install: yarn install --immutable
  beforeScripts:
    - yarn --version
  afterScripts:
    - echo "Deployment is completed"

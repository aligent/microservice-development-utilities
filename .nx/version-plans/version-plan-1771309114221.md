---
appbuilder-util-lib: prerelease
---

# Changelog
## `@aligent/appbuilder-util-lib` - Prerelease

### âœ¨ New Features
* **Database Storage Client** (`state-database.ts`): New two-tier storage implementation combining Adobe I/O State (fast cache) with Adobe I/O Database (persistent storage) for durable key-value storage without TTL limitations
* **File Storage Client** (`state-files.ts`): Refactored to use factory pattern with `createFileStorageClient()` that returns an instance with `get()`, `put()`, `exists()`, and `delete()` methods

### ğŸ”§ Changes
* **Factory Pattern**: Both storage clients now use a consistent factory pattern for creating storage instances bound to a specific key
* **Initialization Retry**: Added retry logic for Adobe SDK initialization failures
* **Removed**: Deleted legacy `aio-persistent-state.ts` in favor of the new modular approach

### ğŸ“¦ Dependencies
* Replaced `@adobe/aio-sdk` with explicit Adobe package dependencies:
  - `@adobe/aio-lib-core-logging`
  - `@adobe/aio-lib-db`
  - `@adobe/aio-lib-files`
  - `@adobe/aio-lib-state`
* Added `mongodb` package for TypeScript types (Adobe I/O Database is MongoDB-compatible)

### ğŸ§ª Testing
* Migrated test files to tests/ directory

### ğŸ“ Documentation
* Added `CLAUDE.md` for AI-assisted development context
* Updated documentation to reflect the new storage architecture
